<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://code.jquery.com/jquery.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet" type="text/css" />
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.3.2/react-with-addons.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.3.2/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser.min.js"></script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>Title</title>

    <script type="text/babel">
        var data = [
            { "when": "2 minutes ago",
                "who": "Jill Dupre",
                "description": "Created new account"
            },
            {
                "when": "1 hour ago",
                "who": "Lose White",
                "description": "Added fist chapter"
            },
            {
                "when": "2 hours ago",
                "who": "Jordan Whash",
                "description": "Created new account"
            }
        ];
        var headlines = ['Last change at', 'By author', 'Summary']
        var title = "Recent Changes";
        var Heading = React.createClass({
            render: function () {
                return(<th>{this.props.heading}</th>);
            }});

        var Headings = React.createClass({
            render: function (){
                var headings = this.props.headings.map(function(heading){
                    return (<Heading heading = {heading}/>);
                });

                return (
                        <thead>
                        <tr>
                            {headings}
                        </tr>
                        </thead>
                )
            }
        });

        var Row = React.createClass({
            render: function ()
            {
                return (<tr>
                    <td>{this.props.changeSet.when}</td>
                    <td>{this.props.changeSet.who}</td>
                    <td>{this.props.changeSet.description}</td>
                </tr>);
            }
        });



        var Rows = React.createClass({render: function () {
            var rows = this.props.changeSets.map(function(changeSet){
                return (<Row changeSet = {changeSet}/>)
            })
            return (<tbody>{rows}</tbody>);
        }});

        var App = React.createClass({
            render: function()
            {


                return <div>
                    <h1>
                        {this.props.title}
                    </h1>
                    <table>
                        {Headings}
                        {rows}
                    </table>
                </div>
            }
        });

        ReactDOM.render(<App headings={headlines} data = {data} title={title} />, document.body);
    </script>

</head>
<body>
<div id="container">
</div>
</body>
</html>